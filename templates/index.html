<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Glass Quality Checker</title>
</head>
<body>
    <h1>ğŸ§  Glass Quality Checker</h1>

    <form method="POST" enctype="multipart/form-data">
        <p><strong>ä¸Šä¼ åŒ…å« OK_NG æ ‡ç­¾çš„ CSV æ–‡ä»¶ï¼š</strong></p>
        <input type="file" name="csv_file" required>
        <button type="submit">ä¸Šä¼ è®­ç»ƒæ¨¡å‹</button>
    </form>

    <hr>

    {% if message %}
        <p>{{ message }}</p>
    {% endif %}

    {% if features %}
        <form method="POST">
            <p><strong>è¯·è¾“å…¥å„å‚æ•°é¢„æµ‹ï¼š</strong></p>
            {% for f in features %}
                <label>{{ f }}:</label>
                <input type="number" step="any" name="{{ f }}" required><br>
            {% endfor %}
            <button type="submit">é¢„æµ‹åˆæ ¼ä¸å¦</button>
        </form>
    {% endif %}

    {% if result %}
        <h2>é¢„æµ‹ç»“æœï¼š{{ result }}</h2>
        <p>é¢„æµ‹æ¦‚ç‡ (ä¸º OK çš„æ¦‚ç‡)ï¼š{{ prob | round(4) }}</p>
    {% endif %}

    {% if shap_plot %}
        <h3>ğŸ“Š SHAP å¯è§£é‡Šæ€§åˆ†æå›¾ï¼š</h3>
        <img src="data:image/png;base64,{{ shap_plot }}" alt="SHAP Plot">
    {% endif %}
</body>
</html>
